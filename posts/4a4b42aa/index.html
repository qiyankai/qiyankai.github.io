<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>HashMapçŸ¥è¯†æ¢³ç† - è€Kçš„åšå®¢</title><meta description="ä¸€æ–‡è¯»æ‡‚HashMapæœ¬æ–‡å‡†å¤‡ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å»è®²è§£HashMapï¼š1ï¼‰HashMapæºç è¯¦ç»†åˆ†æ2ï¼‰HashMapä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Ÿ3ï¼‰1.7å’Œ1.8çš„HashMapå®ç°åŒºåˆ«æ€»ç»“4ï¼‰HashMapå’ŒHashTableçš„åŒºåˆ« HashMapæºç åˆ†æä¸€ã€æ„é€ å‡½æ•°è®©æˆ‘ä»¬å…ˆä»æ„é€ å‡½æ•°è¯´èµ·ï¼ŒHashMapæœ‰å››ä¸ªæ„é€ æ–¹æ³•ï¼Œåˆ«æ…Œ 1.1 HashMap()&amp;#x2F;&amp;#x2F; 1.æ— å‚æ„é€ æ–¹æ³•ã€ &amp;#x2F;&amp;#x2F; æ„é€ ä¸€ä¸ªç©ºçš„Hash"><meta property="og:type" content="article"><meta property="og:title" content="HashMapçŸ¥è¯†æ¢³ç†"><meta property="og:url" content="https://qiyankai.github.io/posts/4a4b42aa/"><meta property="og:site_name" content="è€K"><meta property="og:description" content="ä¸€æ–‡è¯»æ‡‚HashMapæœ¬æ–‡å‡†å¤‡ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å»è®²è§£HashMapï¼š1ï¼‰HashMapæºç è¯¦ç»†åˆ†æ2ï¼‰HashMapä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Ÿ3ï¼‰1.7å’Œ1.8çš„HashMapå®ç°åŒºåˆ«æ€»ç»“4ï¼‰HashMapå’ŒHashTableçš„åŒºåˆ« HashMapæºç åˆ†æä¸€ã€æ„é€ å‡½æ•°è®©æˆ‘ä»¬å…ˆä»æ„é€ å‡½æ•°è¯´èµ·ï¼ŒHashMapæœ‰å››ä¸ªæ„é€ æ–¹æ³•ï¼Œåˆ«æ…Œ 1.1 HashMap()&amp;#x2F;&amp;#x2F; 1.æ— å‚æ„é€ æ–¹æ³•ã€ &amp;#x2F;&amp;#x2F; æ„é€ ä¸€ä¸ªç©ºçš„Hash"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-10-10T14:02:05.000Z"><meta property="article:modified_time" content="2020-05-14T01:18:13.273Z"><meta property="article:author" content="qiyankai"><meta property="article:tag" content="Java HashMap"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://qiyankai.github.io/img/yazi.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://qiyankai.github.io/posts/4a4b42aa/"},"headline":"HashMapçŸ¥è¯†æ¢³ç†","image":["https://qiyankai.github.io/img/yazi.png"],"datePublished":"2019-10-10T14:02:05.000Z","dateModified":"2020-05-14T01:18:13.273Z","author":{"@type":"Person","name":"qiyankai"},"description":"ä¸€æ–‡è¯»æ‡‚HashMapæœ¬æ–‡å‡†å¤‡ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å»è®²è§£HashMapï¼š1ï¼‰HashMapæºç è¯¦ç»†åˆ†æ2ï¼‰HashMapä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Ÿ3ï¼‰1.7å’Œ1.8çš„HashMapå®ç°åŒºåˆ«æ€»ç»“4ï¼‰HashMapå’ŒHashTableçš„åŒºåˆ« HashMapæºç åˆ†æä¸€ã€æ„é€ å‡½æ•°è®©æˆ‘ä»¬å…ˆä»æ„é€ å‡½æ•°è¯´èµ·ï¼ŒHashMapæœ‰å››ä¸ªæ„é€ æ–¹æ³•ï¼Œåˆ«æ…Œ 1.1 HashMap()&#x2F;&#x2F; 1.æ— å‚æ„é€ æ–¹æ³•ã€ &#x2F;&#x2F; æ„é€ ä¸€ä¸ªç©ºçš„Hash"}</script><link rel="alternative" href="/atom.xml" title="è€Kçš„åšå®¢" type="application/atom+xml"><link rel="icon" href="/img/yazi.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="/js/globalUtils.js"></script><link rel="stylesheet" href="/live2d/waifu.css"><script type="text/javascript" async src="/live2d/autoload.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/yazi.png" alt="è€Kçš„åšå®¢" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">é¦–é¡µ</a><a class="navbar-item" href="/archives">å½’æ¡£</a><a class="navbar-item" href="/categories">åˆ†ç±»</a><a class="navbar-item" href="/tags">æ ‡ç­¾</a><a class="navbar-item" href="/tags/%E6%B3%95%E5%BE%8B/">å¾‹æ³•</a><a class="navbar-item" href="/media">å½±éŸ³</a><a class="navbar-item" href="/album">ç›¸å†Œ</a><a class="navbar-item" href="/friend">å‹é“¾</a><a class="navbar-item" href="/self-talking">çè¯´</a><a class="navbar-item" href="/message">ç•™è¨€</a><a class="navbar-item" href="/about">å…³äº</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/qiyankai"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-10-10T14:02:05.000Z">2019-10-10</time><a class="commentCountImg" href="/posts/4a4b42aa/#comment-container"><span class="display-none-class">ecaaf3b520d986661382eb760ac676f5</span><img class="not-gallery-item" src="/img/chat.svg">Â <span class="commentCount" id="ecaaf3b520d986661382eb760ac676f5">Â 99+</span>Â Â Â Â </a><span class="level-item"><i class="fas fa-folder-open has-text-grey">Â </i><a class="link-muted" href="/categories/Java/">Java</a><span>Â /Â </span><a class="link-muted" href="/categories/Java/HashMap/">HashMap</a></span><span class="level-item">39 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 5871 ä¸ªå­—)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="busuanzi_value_page_pv">0</span>æ¬¡è®¿é—®</span></div></div><h1 class="title is-3 is-size-4-mobile">HashMapçŸ¥è¯†æ¢³ç†</h1><div class="content"><h1 id="ä¸€æ–‡è¯»æ‡‚HashMap"><a href="#ä¸€æ–‡è¯»æ‡‚HashMap" class="headerlink" title="ä¸€æ–‡è¯»æ‡‚HashMap"></a>ä¸€æ–‡è¯»æ‡‚HashMap</h1><p>æœ¬æ–‡å‡†å¤‡ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å»è®²è§£HashMapï¼š<br>1ï¼‰HashMapæºç è¯¦ç»†åˆ†æ<br>2ï¼‰HashMapä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Ÿ<br>3ï¼‰1.7å’Œ1.8çš„HashMapå®ç°åŒºåˆ«æ€»ç»“<br>4ï¼‰HashMapå’ŒHashTableçš„åŒºåˆ«</p>
<h2 id="HashMapæºç åˆ†æ"><a href="#HashMapæºç åˆ†æ" class="headerlink" title="HashMapæºç åˆ†æ"></a>HashMapæºç åˆ†æ</h2><h3 id="ä¸€ã€æ„é€ å‡½æ•°"><a href="#ä¸€ã€æ„é€ å‡½æ•°" class="headerlink" title="ä¸€ã€æ„é€ å‡½æ•°"></a>ä¸€ã€æ„é€ å‡½æ•°</h3><p>è®©æˆ‘ä»¬å…ˆä»æ„é€ å‡½æ•°è¯´èµ·ï¼ŒHashMapæœ‰å››ä¸ªæ„é€ æ–¹æ³•ï¼Œåˆ«æ…Œ</p>
<h4 id="1-1-HashMap"><a href="#1-1-HashMap" class="headerlink" title="1.1 HashMap()"></a>1.1 HashMap()</h4><pre><code>// 1.æ— å‚æ„é€ æ–¹æ³•ã€
// æ„é€ ä¸€ä¸ªç©ºçš„HashMapï¼Œåˆå§‹å®¹é‡ä¸º16ï¼Œè´Ÿè½½å› å­ä¸º0.75
public HashMap() {
    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted
}</code></pre><a id="more"></a>

<p>æ— å‚æ„é€ æ–¹æ³•å°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ã€‚</p>
<h4 id="1-2-HashMap-int-initialCapacity"><a href="#1-2-HashMap-int-initialCapacity" class="headerlink" title="1.2 HashMap(int initialCapacity)"></a>1.2 HashMap(int initialCapacity)</h4><pre><code>// 2.æ„é€ ä¸€ä¸ªåˆå§‹å®¹é‡ä¸ºinitialCapacityï¼Œè´Ÿè½½å› å­ä¸º0.75çš„ç©ºçš„HashMapï¼Œ
public HashMap(int initialCapacity) {
    this(initialCapacity, DEFAULT_LOAD_FACTOR);
}</code></pre><p>HashMap(int initialCapacity) è¿™ä¸ªæ„é€ æ–¹æ³•è°ƒç”¨äº†1.3ä¸­çš„æ„é€ æ–¹æ³•ã€‚</p>
<h4 id="1-3-HashMap-int-initialCapacity-float-loadFactor"><a href="#1-3-HashMap-int-initialCapacity-float-loadFactor" class="headerlink" title="1.3 HashMap(int initialCapacity, float loadFactor)"></a>1.3 HashMap(int initialCapacity, float loadFactor)</h4><pre><code>// 3.æ„é€ ä¸€ä¸ªç©ºçš„åˆå§‹å®¹é‡ä¸ºinitialCapacityï¼Œè´Ÿè½½å› å­ä¸ºloadFactorçš„HashMap
public HashMap(int initialCapacity, float loadFactor) {
    if (initialCapacity &lt; 0)
        throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; +
                                           initialCapacity);
    if (initialCapacity &gt; MAXIMUM_CAPACITY)
        initialCapacity = MAXIMUM_CAPACITY;
    if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))
        throw new IllegalArgumentException(&quot;Illegal load factor: &quot; +
                                           loadFactor);
    this.loadFactor = loadFactor;
    this.threshold = tableSizeFor(initialCapacity);
}

//æœ€å¤§å®¹é‡
//static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;</code></pre><p>å½“æŒ‡å®šçš„åˆå§‹å®¹é‡&lt; 0æ—¶æŠ›å‡ºIllegalArgumentExceptionå¼‚å¸¸ï¼Œå½“æŒ‡å®šçš„åˆå§‹å®¹é‡&gt; MAXIMUM_CAPACITYæ—¶ï¼Œå°±è®©åˆå§‹å®¹é‡ = MAXIMUM_CAPACITYã€‚å½“è´Ÿè½½å› å­å°äº0æˆ–è€…ä¸æ˜¯æ•°å­—æ—¶ï¼ŒæŠ›å‡ºIllegalArgumentExceptionå¼‚å¸¸ã€‚</p>
<p>è®¾å®šthresholdã€‚ è¿™ä¸ªthreshold = capacity * load factor ã€‚å½“HashMapçš„sizeåˆ°äº†thresholdæ—¶ï¼Œå°±è¦è¿›è¡Œresizeï¼Œä¹Ÿå°±æ˜¯æ‰©å®¹ã€‚</p>
<p>tableSizeFor()çš„ä¸»è¦åŠŸèƒ½æ˜¯è¿”å›ä¸€ä¸ªæ¯”ç»™å®šæ•´æ•°å¤§ä¸”æœ€æ¥è¿‘çš„2çš„å¹‚æ¬¡æ–¹æ•´æ•°ï¼Œå¦‚ç»™å®š10ï¼Œè¿”å›2çš„4æ¬¡æ–¹16.</p>
<p>æˆ‘ä»¬è¿›å…¥tableSizeFor(int cap)çš„æºç ä¸­çœ‹çœ‹ï¼š</p>
<pre><code>//Returns a power of two size for the given target capacity.
static final int tableSizeFor(int cap) {
    int n = cap - 1;
    n |= n &gt;&gt;&gt; 1;
    n |= n &gt;&gt;&gt; 2;
    n |= n &gt;&gt;&gt; 4;
    n |= n &gt;&gt;&gt; 8;
    n |= n &gt;&gt;&gt; 16;
    return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;
}</code></pre><p>noteï¼š HashMapè¦æ±‚å®¹é‡å¿…é¡»æ˜¯2çš„å¹‚ã€‚</p>
<p>é¦–å…ˆï¼Œint n = cap -1æ˜¯ä¸ºäº†é˜²æ­¢capå·²ç»æ˜¯2çš„å¹‚æ—¶ï¼Œæ‰§è¡Œå®Œåé¢çš„å‡ æ¡æ— ç¬¦å·å³ç§»æ“ä½œä¹‹åï¼Œè¿”å›çš„capacityæ˜¯è¿™ä¸ªcapçš„2å€ï¼Œå› ä¸ºcapå·²ç»æ˜¯2çš„å¹‚äº†ï¼Œå°±å·²ç»æ»¡è¶³æ¡ä»¶äº†ã€‚ å¦‚æœä¸æ‡‚å¯ä»¥å¾€ä¸‹çœ‹å®Œå‡ ä¸ªæ— ç¬¦å·ç§»ä½åå†å›æ¥çœ‹ã€‚ï¼ˆå»ºè®®è‡ªå·±åœ¨çº¸ä¸Šç”»ä¸€ä¸‹ï¼‰</p>
<p>å¦‚æœnè¿™æ—¶ä¸º0äº†ï¼ˆç»è¿‡äº†cap-1ä¹‹åï¼‰ï¼Œåˆ™ç»è¿‡åé¢çš„å‡ æ¬¡æ— ç¬¦å·å³ç§»ä¾ç„¶æ˜¯0ï¼Œæœ€åè¿”å›çš„capacityæ˜¯1ï¼ˆæœ€åæœ‰ä¸ªn+1çš„æ“ä½œï¼‰ã€‚è¿™é‡Œåªè®¨è®ºnä¸ç­‰äº0çš„æƒ…å†µã€‚<br>ä»¥16ä½ä¸ºä¾‹ï¼Œå‡è®¾å¼€å§‹æ—¶ n ä¸º 0000 1xxx xxxx xxxx ï¼ˆxä»£è¡¨ä¸å…³å¿ƒ0è¿˜æ˜¯1ï¼‰</p>
<p>ç¬¬ä¸€æ¬¡å³ç§» n |= n &gt;&gt;&gt; 1;</p>
<p>ç”±äºnä¸ç­‰äº0ï¼Œåˆ™nçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æ€»ä¼šæœ‰ä¸€bitä¸º1ï¼Œè¿™æ—¶è€ƒè™‘æœ€é«˜ä½çš„1ã€‚é€šè¿‡æ— ç¬¦å·å³ç§»1ä½ï¼Œåˆ™å°†æœ€é«˜ä½çš„1å³ç§»äº†1ä½ï¼Œå†åšæˆ–æ“ä½œï¼Œä½¿å¾—nçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ä¸æœ€é«˜ä½çš„1ç´§é‚»çš„å³è¾¹ä¸€ä½ä¹Ÿä¸º1ï¼Œå¦‚0000 11xx xxxx xxxx ã€‚</p>
<p>ç¬¬äºŒæ¬¡å³ç§» n |= n &gt;&gt;&gt; 2;</p>
<p>æ³¨æ„ï¼Œè¿™ä¸ªnå·²ç»ç»è¿‡äº†n |= n &gt;&gt;&gt; 1; æ“ä½œã€‚æ­¤æ—¶nä¸º0000 11xx xxxx xxxx ï¼Œåˆ™næ— ç¬¦å·å³ç§»ä¸¤ä½ï¼Œä¼šå°†æœ€é«˜ä½ä¸¤ä¸ªè¿ç»­çš„1å³ç§»ä¸¤ä½ï¼Œç„¶åå†ä¸åŸæ¥çš„nåšæˆ–æ“ä½œï¼Œè¿™æ ·nçš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„é«˜ä½ä¸­ä¼šæœ‰4ä¸ªè¿ç»­çš„1ã€‚å¦‚0000 1111 xxxx xxxx ã€‚</p>
<p>ç¬¬ä¸‰æ¬¡å³ç§» n |= n &gt;&gt;&gt; 4;</p>
<p>è¿™æ¬¡æŠŠå·²ç»æœ‰çš„é«˜ä½ä¸­çš„è¿ç»­çš„4ä¸ª1ï¼Œå³ç§»4ä½ï¼Œå†åšæˆ–æ“ä½œï¼Œè¿™æ ·nçš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„é«˜ä½ä¸­ä¼šæœ‰8ä¸ªè¿ç»­çš„1ã€‚å¦‚0000 1111 1111 xxxx ã€‚</p>
<p>ç¬¬ã€‚ã€‚ã€‚ï¼Œä½ è¿˜å¿å¿ƒè®©æˆ‘ç»§ç»­æ¨ä¹ˆï¼Ÿç›¸ä¿¡èªæ˜çš„ä½ å·²ç»æƒ³å‡ºæ¥äº†ï¼Œå®¹é‡æœ€å¤§ä¹Ÿå°±æ˜¯32ä½çš„æ­£æ•°ï¼Œæ‰€ä»¥æœ€åä¸€æ¬¡ n |= n &gt;&gt;&gt; 16; å¯ä»¥ä¿è¯æœ€é«˜ä½åé¢çš„å…¨éƒ¨ç½®ä¸º1ã€‚å½“ç„¶å¦‚æœæ˜¯32ä¸ª1çš„è¯ï¼Œæ­¤æ—¶è¶…å‡ºäº†MAXIMUM_CAPACITY ï¼Œæ‰€ä»¥å–å€¼åˆ° MAXIMUM_CAPACITY ã€‚</p>
<p>ä»<a href="https://blog.csdn.net/huzhigenlaohu/article/details/51802457è¿™ç¯‡åšå®¢ä¸­æ‰¾äº†å¼ ç¤ºä¾‹å›¾ï¼š">https://blog.csdn.net/huzhigenlaohu/article/details/51802457è¿™ç¯‡åšå®¢ä¸­æ‰¾äº†å¼ ç¤ºä¾‹å›¾ï¼š</a></p>
<p>tableSizeForç¤ºä¾‹å›¾</p>
<p><img src="https://img-blog.csdnimg.cn/20200513171136653.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ³¨æ„ï¼Œå¾—åˆ°çš„è¿™ä¸ªcapacityå´è¢«èµ‹å€¼ç»™äº†thresholdã€‚ è¿™é‡Œæˆ‘å’Œè¿™ç¯‡åšå®¢çš„åšä¸»å¼€å§‹çš„æƒ³æ³•ä¸€æ ·ï¼Œè®¤ä¸ºåº”è¯¥è¿™ä¹ˆå†™ï¼šthis.threshold = tableSizeFor(initialCapacity) * this.loadFactor; å› ä¸ºè¿™æ ·å­æ‰ç¬¦åˆthresholdçš„å®šä¹‰ï¼šthreshold = capacity * load factor ã€‚ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œåœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œå¹¶æ²¡æœ‰å¯¹tableè¿™ä¸ªæˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œtableçš„åˆå§‹åŒ–è¢«æ¨è¿Ÿåˆ°äº†putæ–¹æ³•ä¸­ï¼Œåœ¨putæ–¹æ³•ä¸­ä¼šå¯¹thresholdé‡æ–°è®¡ç®— ã€‚</p>
<p>æˆ‘è¯´ä¸€ä¸‹æˆ‘åœ¨ç†è§£è¿™ä¸ªtableSizeForå‡½æ•°ä¸­é—´é‡åˆ°çš„å‘å§ï¼Œæˆ‘åœ¨æƒ³å¦‚æœn=-1æ—¶çš„æƒ…å†µï¼Œå› ä¸ºåˆå§‹å®¹é‡å¯ä»¥ä¼ è¿›æ¥0ã€‚æˆ‘å°†n= -1 å’Œä¸‹é¢å‡ æ¡è¿ç®—ä¸€èµ·æ–°å†™äº†ä¸ªæµ‹è¯•ç¨‹åºï¼Œå‘ç°è¾“å‡ºéƒ½æ˜¯ -1ã€‚ è¿™æ˜¯å› ä¸ºè®¡ç®—æœºä¸­æ•°å­—æ˜¯ç”±è¡¥ç å­˜å‚¨çš„ï¼Œ-1çš„è¡¥ç æ˜¯ 0xffffffffã€‚æ‰€ä»¥æ— ç¬¦å·å³ç§»ä¹‹åå†è¿›è¡Œæˆ–è¿ç®—ä¹‹åè¿˜æ˜¯ -1ã€‚ é‚£æˆ‘æƒ³å¦‚æœå°±æ— ç¬¦å·å³ç§»å‘¢ï¼Ÿ æ¯”å¦‚-1&gt;&gt;&gt;10ã€‚å¬æˆ‘å¨“å¨“é“æ¥ï¼Œ32ä¸ª1æ— ç¬¦å·å³ç§»10ä½åï¼Œé«˜10ä½ä¸º0ï¼Œä½22ä½ä¸º1ï¼Œæ­¤æ—¶è¿™ä¸ªæ•°å˜æˆäº†æ­£æ•°ï¼Œç”±äºæ­£æ•°çš„è¡¥ç å’ŒåŸç ç›¸åŒï¼Œæ‰€ä»¥å°±å˜æˆäº†0x3FFFFFå³10è¿›åˆ¶çš„4194303ã€‚çœŸåˆºæ¿€ã€‚</p>
<p>å¥½å¼€æ£®ï¼Œè¿™ä¸ªæ„é€ æ–¹æ³•æˆ‘ä»¬ç®—æ˜¯æ‹¿ä¸‹äº†ã€‚æ€ä¹ˆæ ·ï¼Œæˆ‘çŒœä½ ç°åœ¨ä¸€å®šå¾ˆæ¿€åŠ¨ï¼ŒHeyï¼Œold Feï¼Œè¿™æ‰åˆšå¼€å§‹ã€‚æ¥ä¸‹æ¥çœ‹æœ€åä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚</p>
<h4 id="1-4-HashMap-Map-lt-extends-K-extends-V-gt-m"><a href="#1-4-HashMap-Map-lt-extends-K-extends-V-gt-m" class="headerlink" title="1.4 HashMap(Map&lt;? extends K, ? extends V&gt; m)"></a>1.4 HashMap(Map&lt;? extends K, ? extends V&gt; m)</h4><pre><code>// 4. æ„é€ ä¸€ä¸ªå’ŒæŒ‡å®šMapæœ‰ç›¸åŒmappingsçš„HashMapï¼Œåˆå§‹å®¹é‡èƒ½å……è¶³çš„å®¹ä¸‹æŒ‡å®šçš„Map,è´Ÿè½½å› å­ä¸º0.75
public HashMap(Map&lt;? extends K, ? extends V&gt; m) {
    this.loadFactor = DEFAULT_LOAD_FACTOR;
    putMapEntries(m, false);
}</code></pre><p>å¥—è·¯ï¼Œç›´æ¥çœ‹ putMapEntries(m,false) ã€‚æºç å¦‚ä¸‹ï¼š</p>
<pre><code>/**
 * å°†mçš„æ‰€æœ‰å…ƒç´ å­˜å…¥æœ¬HashMapå®ä¾‹ä¸­
 */
final void putMapEntries(Map&lt;? extends K, ? extends V&gt; m, boolean evict) {
    //å¾—åˆ° m ä¸­å…ƒç´ çš„ä¸ªæ•°
    int s = m.size();
    //å½“ m ä¸­æœ‰å…ƒç´ æ—¶ï¼Œåˆ™éœ€å°†mapä¸­å…ƒç´ æ”¾å…¥æœ¬HashMapå®ä¾‹ã€‚
    if (s &gt; 0) {
        // åˆ¤æ–­tableæ˜¯å¦å·²ç»åˆå§‹åŒ–ï¼Œå¦‚æœæœªåˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–ä¸€äº›å˜é‡ã€‚ï¼ˆtableåˆå§‹åŒ–æ˜¯åœ¨putæ—¶ï¼‰
        if (table == null) { // pre-size
            // æ ¹æ®å¾…æ’å…¥çš„map çš„ size è®¡ç®—è¦åˆ›å»ºçš„ã€€HashMap çš„å®¹é‡ã€‚
            float ft = ((float)s / loadFactor) + 1.0F;
            int t = ((ft &lt; (float)MAXIMUM_CAPACITY) ?
                     (int)ft : MAXIMUM_CAPACITY);
            // æŠŠè¦åˆ›å»ºçš„ã€€HashMap çš„å®¹é‡å­˜åœ¨ã€€thresholdã€€ä¸­
            if (t &gt; threshold)
                threshold = tableSizeFor(t);
        }
        // å¦‚æœtableåˆå§‹åŒ–è¿‡ï¼Œå› ä¸ºåˆ«çš„å‡½æ•°ä¹Ÿä¼šè°ƒç”¨å®ƒï¼Œæ‰€ä»¥æœ‰å¯èƒ½HashMapå·²ç»è¢«åˆå§‹åŒ–è¿‡äº†ã€‚
        // åˆ¤æ–­å¾…æ’å…¥çš„ã€€map çš„ size,è‹¥ã€€size å¤§äºã€€thresholdï¼Œåˆ™å…ˆè¿›è¡Œã€€resize()ï¼Œè¿›è¡Œæ‰©å®¹
        else if (s &gt; threshold)
            resize();
        //ç„¶åå°±å¼€å§‹éå† å¸¦æ’å…¥çš„ map ï¼Œå°†æ¯ä¸€ä¸ª &lt;Key ,Value&gt; æ’å…¥åˆ°æœ¬HashMapå®ä¾‹ã€‚
        for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet()) {
            K key = e.getKey();
            V value = e.getValue();
            // put(K,V)ä¹Ÿæ˜¯è°ƒç”¨ã€€putValã€€å‡½æ•°è¿›è¡Œå…ƒç´ çš„æ’å…¥
            putVal(hash(key), key, value, false, evict);
        }
    }
}</code></pre><p>ä»‹ç»putValæ–¹æ³•å‰ï¼Œè¯´ä¸€ä¸‹HashMapçš„å‡ ä¸ªé‡è¦çš„æˆå‘˜å˜é‡ï¼š</p>
<pre><code>/**
 * The table, initialized on first use, and resized as
 * necessary. When allocated, length is always a power of two.
 * (We also tolerate length zero in some operations to allow
 * bootstrapping mechanics that are currently not needed.)
 */
//å®é™…å­˜å‚¨keyï¼Œvalueçš„æ•°ç»„ï¼Œåªä¸è¿‡keyï¼Œvalueè¢«å°è£…æˆNodeäº†
transient Node&lt;K,V&gt;[] table;

/**
 * The number of key-value mappings contained in this map.
 */
transient int size;

/**
 * The number of times this HashMap has been structurally modified
 * Structural modifications are those that change the number of mappings in
 * the HashMap or otherwise modify its internal structure (e.g.,
 * rehash).  This field is used to make iterators on Collection-views of
 * the HashMap fail-fast.  (See ConcurrentModificationException).
 */
transient int modCount;

/**
 * The next size value at which to resize (capacity * load factor).
 *
 * @serial
 */
// (The javadoc description is true upon serialization.
// Additionally, if the table array has not been allocated, this
// field holds the initial array capacity, or zero signifying
// DEFAULT_INITIAL_CAPACITY.)
//å› ä¸º tableSizeFor(int) è¿”å›å€¼ç»™äº†threshold
int threshold;

/**
 * The load factor for the hash table.
 *
 * @serial
 */
final float loadFactor;</code></pre><p>å…¶å®å°±æ˜¯å“ˆå¸Œè¡¨ã€‚HashMapä½¿ç”¨é“¾è¡¨æ³•é¿å…å“ˆå¸Œå†²çªï¼ˆç›¸åŒhashå€¼ï¼‰ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºTREEIFY_THRESHOLDï¼ˆé»˜è®¤ä¸º8ï¼‰æ—¶ï¼Œå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå½“ç„¶å°äºUNTREEIFY_THRESHOLDï¼ˆé»˜è®¤ä¸º6ï¼‰æ—¶ï¼Œåˆä¼šè½¬å›é“¾è¡¨ä»¥è¾¾åˆ°æ€§èƒ½å‡è¡¡ã€‚ æˆ‘ä»¬çœ‹ä¸€å¼ HashMapçš„æ•°æ®ç»“æ„ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ ï¼‰å°±æ›´èƒ½ç†è§£tableäº†ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20200513171319423.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h3 id="HashMapçš„æ•°æ®ç»“æ„"><a href="#HashMapçš„æ•°æ®ç»“æ„" class="headerlink" title="HashMapçš„æ•°æ®ç»“æ„"></a>HashMapçš„æ•°æ®ç»“æ„</h3><p>å†å›åˆ°putMapEntrieså‡½æ•°ä¸­ï¼Œå¦‚æœtableä¸ºnullï¼Œé‚£ä¹ˆè¿™æ—¶å°±è®¾ç½®åˆé€‚çš„thresholdï¼Œå¦‚æœä¸ä¸ºç©ºå¹¶ä¸”æŒ‡å®šçš„mapçš„size&gt;thresholdï¼Œé‚£ä¹ˆå°±resize()ã€‚ç„¶åæŠŠæŒ‡å®šçš„mapçš„æ‰€æœ‰Keyï¼ŒValueï¼Œé€šè¿‡putValæ·»åŠ åˆ°æˆ‘ä»¬åˆ›å»ºçš„æ–°çš„mapä¸­ã€‚</p>
<p>putValä¸­ä¼ å…¥äº†ä¸ªhash(key)ï¼Œé‚£æˆ‘ä»¬å°±å…ˆæ¥çœ‹çœ‹hash(key):</p>
<p>/**<br>     * key çš„ hashå€¼çš„è®¡ç®—æ˜¯é€šè¿‡hashCode()çš„é«˜16ä½å¼‚æˆ–ä½16ä½å®ç°çš„ï¼š(h = k.hashCode()) ^ (h &gt;&gt;&gt; 16)<br>     * ä¸»è¦æ˜¯ä»é€Ÿåº¦ã€åŠŸæ•ˆã€è´¨é‡æ¥è€ƒè™‘çš„ï¼Œè¿™ä¹ˆåšå¯ä»¥åœ¨æ•°ç»„tableçš„lengthæ¯”è¾ƒå°çš„æ—¶å€™<br>     * ä¹Ÿèƒ½ä¿è¯è€ƒè™‘åˆ°é«˜ä½Bitéƒ½å‚ä¸åˆ°Hashçš„è®¡ç®—ä¸­ï¼ŒåŒæ—¶ä¸ä¼šæœ‰å¤ªå¤§çš„å¼€é”€<br>     */<br>    static final int hash(Object key) {<br>        int h;<br>        return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);<br>    }</p>
<p>å¼‚æˆ–è¿ç®—ï¼š(h = key.hashCode()) ^ (h &gt;&gt;&gt; 16)</p>
<p>åŸ æ¥ çš„ hashCode : 1111 1111 1111 1111 0100 1100 0000 1010<br>ç§»ä½åçš„hashCode: 0000 0000 0000 0000 1111 1111 1111 1111<br>è¿›è¡Œå¼‚æˆ–è¿ç®— ç»“æœï¼š1111 1111 1111 1111 1011 0011 1111 0101</p>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥å°†hashcodeé«˜ä½å’Œä½ä½çš„å€¼è¿›è¡Œæ··åˆåšå¼‚æˆ–è¿ç®—ï¼Œè€Œä¸”æ··åˆåï¼Œä½ä½çš„ä¿¡æ¯ä¸­åŠ å…¥äº†é«˜ä½çš„ä¿¡æ¯ï¼Œè¿™æ ·é«˜ä½çš„ä¿¡æ¯è¢«å˜ç›¸çš„ä¿ç•™äº†ä¸‹æ¥ã€‚æºæ‚çš„å…ƒç´ å¤šäº†ï¼Œé‚£ä¹ˆç”Ÿæˆçš„hashå€¼çš„éšæœºæ€§ä¼šå¢å¤§ã€‚</p>
<p>åˆšæ‰æˆ‘ä»¬æ¼æ‰äº†resize()å’ŒputVal() ä¸¤ä¸ªå‡½æ•°ï¼Œç°åœ¨æˆ‘ä»¬æŒ‰é¡ºåºåˆ†æä¸€æ³¢ï¼š</p>
<p>é¦–å…ˆresize() ,å…ˆçœ‹ä¸€ä¸‹å“ªäº›å‡½æ•°è°ƒç”¨äº†resize()ï¼Œä»è€Œåœ¨æ•´ä½“ä¸Šæœ‰ä¸ªæ¦‚å¿µï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/2020051317152724.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æ¥ä¸‹æ¥ä¸Šæºç ï¼š</p>
<pre><code>final Node&lt;K,V&gt;[] resize() {
    // ä¿å­˜å½“å‰table
    Node&lt;K,V&gt;[] oldTab = table;
    // ä¿å­˜å½“å‰tableçš„å®¹é‡
    int oldCap = (oldTab == null) ? 0 : oldTab.length;
    // ä¿å­˜å½“å‰é˜ˆå€¼
    int oldThr = threshold;
    // åˆå§‹åŒ–æ–°çš„tableå®¹é‡å’Œé˜ˆå€¼ 
    int newCap, newThr = 0;
    /*
    1. resizeï¼ˆï¼‰å‡½æ•°åœ¨sizeã€€&gt; thresholdæ—¶è¢«è°ƒç”¨ã€‚oldCapå¤§äº 0 ä»£è¡¨åŸæ¥çš„ table è¡¨éç©ºï¼Œ
       oldCap ä¸ºåŸè¡¨çš„å¤§å°ï¼ŒoldThrï¼ˆthresholdï¼‰ ä¸º oldCap Ã— load_factor
    */
    if (oldCap &gt; 0) {
        // è‹¥æ—§tableå®¹é‡å·²è¶…è¿‡æœ€å¤§å®¹é‡ï¼Œæ›´æ–°é˜ˆå€¼ä¸ºInteger.MAX_VALUEï¼ˆæœ€å¤§æ•´å½¢å€¼ï¼‰ï¼Œè¿™æ ·ä»¥åå°±ä¸ä¼šè‡ªåŠ¨æ‰©å®¹äº†ã€‚
        if (oldCap &gt;= MAXIMUM_CAPACITY) {
            threshold = Integer.MAX_VALUE;
            return oldTab;
        }
         // å®¹é‡ç¿»å€ï¼Œä½¿ç”¨å·¦ç§»ï¼Œæ•ˆç‡æ›´é«˜
        else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp;
                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)
            // é˜ˆå€¼ç¿»å€
            newThr = oldThr &lt;&lt; 1; // double threshold
    }
    /*
    2. resizeï¼ˆï¼‰å‡½æ•°åœ¨tableä¸ºç©ºè¢«è°ƒç”¨ã€‚oldCap å°äºç­‰äº 0 ä¸” oldThr å¤§äº0ï¼Œä»£è¡¨ç”¨æˆ·åˆ›å»ºäº†ä¸€ä¸ª HashMapï¼Œä½†æ˜¯ä½¿ç”¨çš„æ„é€ å‡½æ•°ä¸º      
       HashMap(int initialCapacity, float loadFactor) æˆ– HashMap(int initialCapacity)
       æˆ– HashMap(Map&lt;? extends K, ? extends V&gt; m)ï¼Œå¯¼è‡´ oldTab ä¸º nullï¼ŒoldCap ä¸º0ï¼Œ oldThr ä¸ºç”¨æˆ·æŒ‡å®šçš„ HashMapçš„åˆå§‹å®¹é‡ã€‚
ã€€ã€€*/
    else if (oldThr &gt; 0) // initial capacity was placed in threshold
        //å½“tableæ²¡åˆå§‹åŒ–æ—¶ï¼ŒthresholdæŒæœ‰åˆå§‹å®¹é‡ã€‚è¿˜è®°å¾—threshold = tableSizeFor(t)ä¹ˆ;
        newCap = oldThr;
    /*
    3. resizeï¼ˆï¼‰å‡½æ•°åœ¨tableä¸ºç©ºè¢«è°ƒç”¨ã€‚oldCap å°äºç­‰äº 0 ä¸” oldThr ç­‰äº0ï¼Œç”¨æˆ·è°ƒç”¨ HashMap()æ„é€ å‡½æ•°åˆ›å»ºçš„ã€€HashMapï¼Œæ‰€æœ‰å€¼å‡é‡‡ç”¨é»˜è®¤å€¼ï¼ŒoldTabï¼ˆTableï¼‰è¡¨ä¸ºç©ºï¼ŒoldCapä¸º0ï¼ŒoldThrç­‰äº0ï¼Œ
    */
    else {               // zero initial threshold signifies using defaults
        newCap = DEFAULT_INITIAL_CAPACITY;
        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);
    }
    // æ–°é˜ˆå€¼ä¸º0
    if (newThr == 0) {
        float ft = (float)newCap * loadFactor;
        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ?
                  (int)ft : Integer.MAX_VALUE);
    }
    threshold = newThr;
    @SuppressWarnings({&quot;rawtypes&quot;,&quot;unchecked&quot;})
    // åˆå§‹åŒ–table
    Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap];
    table = newTab;
    if (oldTab != null) {
        // æŠŠ oldTab ä¸­çš„èŠ‚ç‚¹ã€€reHash åˆ°ã€€newTab ä¸­å»
        for (int j = 0; j &lt; oldCap; ++j) {
            Node&lt;K,V&gt; e;
            if ((e = oldTab[j]) != null) {
                oldTab[j] = null;
                // è‹¥èŠ‚ç‚¹æ˜¯å•ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥åœ¨ newTabã€€ä¸­è¿›è¡Œé‡å®šä½
                if (e.next == null)
                    newTab[e.hash &amp; (newCap - 1)] = e;
                // è‹¥èŠ‚ç‚¹æ˜¯ã€€TreeNode èŠ‚ç‚¹ï¼Œè¦è¿›è¡Œ çº¢é»‘æ ‘çš„ rehashã€€æ“ä½œ
                else if (e instanceof TreeNode)
                    ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap);
                // è‹¥æ˜¯é“¾è¡¨ï¼Œè¿›è¡Œé“¾è¡¨çš„ rehashã€€æ“ä½œ
                else { // preserve order
                    Node&lt;K,V&gt; loHead = null, loTail = null;
                    Node&lt;K,V&gt; hiHead = null, hiTail = null;
                    Node&lt;K,V&gt; next;
                    // å°†åŒä¸€æ¡¶ä¸­çš„å…ƒç´ æ ¹æ®(e.hash &amp; oldCap)æ˜¯å¦ä¸º0è¿›è¡Œåˆ†å‰²ï¼ˆä»£ç åæœ‰å›¾è§£ï¼Œå¯ä»¥å›è¿‡å¤´å†æ¥çœ‹ï¼‰ï¼Œåˆ†æˆä¸¤ä¸ªä¸åŒçš„é“¾è¡¨ï¼Œå®Œæˆrehash
                    do {
                        next = e.next;
                        // æ ¹æ®ç®—æ³•ã€€e.hash &amp; oldCap åˆ¤æ–­èŠ‚ç‚¹ä½ç½®rehashã€€åæ˜¯å¦å‘ç”Ÿæ”¹å˜
                        //æœ€é«˜ä½==0ï¼Œè¿™æ˜¯ç´¢å¼•ä¸å˜çš„é“¾è¡¨ã€‚
                        if ((e.hash &amp; oldCap) == 0) { 
                            if (loTail == null)
                                loHead = e;
                            else
                                loTail.next = e;
                            loTail = e;
                        }
                        //æœ€é«˜ä½==1 ï¼ˆè¿™æ˜¯ç´¢å¼•å‘ç”Ÿæ”¹å˜çš„é“¾è¡¨ï¼‰
                        else {  
                            if (hiTail == null)
                                hiHead = e;
                            else
                                hiTail.next = e;
                            hiTail = e;
                        }
                    } while ((e = next) != null);
                    if (loTail != null) {  // åŸbucketä½ç½®çš„å°¾æŒ‡é’ˆä¸ä¸ºç©º(å³è¿˜æœ‰node)  
                        loTail.next = null; // é“¾è¡¨æœ€åå¾—æœ‰ä¸ªnull
                        newTab[j] = loHead; // é“¾è¡¨å¤´æŒ‡é’ˆæ”¾åœ¨æ–°æ¡¶çš„ç›¸åŒä¸‹æ ‡(j)å¤„
                    }
                    if (hiTail != null) {
                        hiTail.next = null;
                        // rehashã€€åèŠ‚ç‚¹æ–°çš„ä½ç½®ä¸€å®šä¸ºåŸæ¥åŸºç¡€ä¸ŠåŠ ä¸Šã€€oldCapï¼Œå…·ä½“è§£é‡Šçœ‹ä¸‹å›¾
                        newTab[j + oldCap] = hiHead;
                    }
                }
            }
        }
    }
    return newTab;
}</code></pre><p>}</p>
<p>å¼•è‡ªç¾å›¢ç‚¹è¯„æŠ€æœ¯åšå®¢ã€‚æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯2æ¬¡å¹‚çš„æ‰©å±•(æŒ‡é•¿åº¦æ‰©ä¸ºåŸæ¥2å€)ï¼Œæ‰€ä»¥ï¼Œå…ƒç´ çš„ä½ç½®è¦ä¹ˆæ˜¯åœ¨åŸä½ç½®ï¼Œè¦ä¹ˆæ˜¯åœ¨åŸä½ç½®å†ç§»åŠ¨2æ¬¡å¹‚çš„ä½ç½®ã€‚çœ‹ä¸‹å›¾å¯ä»¥æ˜ç™½è¿™å¥è¯çš„æ„æ€ï¼Œnä¸ºtableçš„é•¿åº¦ï¼Œå›¾ï¼ˆaï¼‰è¡¨ç¤ºæ‰©å®¹å‰çš„key1å’Œkey2ä¸¤ç§keyç¡®å®šç´¢å¼•ä½ç½®çš„ç¤ºä¾‹ï¼Œå›¾ï¼ˆbï¼‰è¡¨ç¤ºæ‰©å®¹åkey1å’Œkey2ä¸¤ç§keyç¡®å®šç´¢å¼•ä½ç½®çš„ç¤ºä¾‹ï¼Œå…¶ä¸­hash1æ˜¯key1å¯¹åº”çš„å“ˆå¸Œä¸é«˜ä½è¿ç®—ç»“æœã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200513171554106.png#pic_center" alt="hashMap 1.8 å“ˆå¸Œç®—æ³•ä¾‹å›¾1.png"></p>
<p>å…ƒç´ åœ¨é‡æ–°è®¡ç®—hashä¹‹åï¼Œå› ä¸ºnå˜ä¸º2å€ï¼Œé‚£ä¹ˆn-1çš„maskèŒƒå›´åœ¨é«˜ä½å¤š1bit(çº¢è‰²)ï¼Œå› æ­¤æ–°çš„indexå°±ä¼šå‘ç”Ÿè¿™æ ·çš„å˜åŒ–ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20200513171607711.png#pic_center" alt="hashMap 1.8 å“ˆå¸Œç®—æ³•ä¾‹å›¾2.png"></p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨æ‰©å……HashMapçš„æ—¶å€™ï¼Œåªéœ€è¦çœ‹çœ‹åŸæ¥çš„hashå€¼æ–°å¢çš„é‚£ä¸ªbitæ˜¯1è¿˜æ˜¯0å°±å¥½äº†ï¼Œæ˜¯0çš„è¯ç´¢å¼•æ²¡å˜ï¼Œæ˜¯1çš„è¯ç´¢å¼•å˜æˆâ€œåŸç´¢å¼•+oldCapâ€ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹å›¾ä¸º16æ‰©å……ä¸º32çš„resizeç¤ºæ„å›¾ ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20200513171657295.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>ä»€ä¹ˆæ—¶å€™æ‰©å®¹ï¼šé€šè¿‡HashMapæºç å¯ä»¥çœ‹åˆ°æ˜¯åœ¨putæ“ä½œæ—¶ï¼Œå³å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œåˆ¤æ–­å½“å‰å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°æ˜¯å¦è¾¾åˆ°é˜ˆå€¼ï¼ˆå½“å‰æ•°ç»„é•¿åº¦ä¹˜ä»¥åŠ è½½å› å­çš„å€¼ï¼‰çš„æ—¶å€™ï¼Œå°±è¦è‡ªåŠ¨æ‰©å®¹äº†ã€‚</p>
<p>æ‰©å®¹(resize)ï¼šå…¶å®å°±æ˜¯é‡æ–°è®¡ç®—å®¹é‡ï¼›è€Œè¿™ä¸ªæ‰©å®¹æ˜¯è®¡ç®—å‡ºæ‰€éœ€å®¹å™¨çš„å¤§å°ä¹‹åé‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œå°†åŸæ¥å®¹å™¨ä¸­çš„å…ƒç´ æ”¾å…¥å…¶ä¸­ã€‚</p>
<p>resize()å‘Šä¸€æ®µè½ï¼Œæ¥ä¸‹æ¥çœ‹ putVal() ã€‚</p>
<p>ä¸Šæºç ï¼š</p>
<pre><code>//å®ç°putå’Œç›¸å…³æ–¹æ³•ã€‚
final V putVal(int hash, K key, V value, boolean onlyIfAbsent,
               boolean evict) {
    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;
    //å¦‚æœtableä¸ºç©ºæˆ–è€…é•¿åº¦ä¸º0ï¼Œåˆ™resize()
    if ((tab = table) == null || (n = tab.length) == 0)
        n = (tab = resize()).length;
    //ç¡®å®šæ’å…¥tableçš„ä½ç½®ï¼Œç®—æ³•æ˜¯(n - 1) &amp; hashï¼Œåœ¨nä¸º2çš„å¹‚æ—¶ï¼Œç›¸å½“äºå–æ‘¸æ“ä½œã€‚
    ////æ‰¾åˆ°keyå€¼å¯¹åº”çš„æ§½å¹¶ä¸”æ˜¯ç¬¬ä¸€ä¸ªï¼Œç›´æ¥åŠ å…¥
    if ((p = tab[i = (n - 1) &amp; hash]) == null)
        tab[i] = newNode(hash, key, value, null);
    //åœ¨tableçš„iä½ç½®å‘ç”Ÿç¢°æ’ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼Œ1ã€keyå€¼æ˜¯ä¸€æ ·çš„ï¼Œæ›¿æ¢valueå€¼ï¼Œ
    //2ã€keyå€¼ä¸ä¸€æ ·çš„æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š2.1ã€å­˜å‚¨åœ¨iä½ç½®çš„é“¾è¡¨ï¼›2.2ã€å­˜å‚¨åœ¨çº¢é»‘æ ‘ä¸­
    else {
        Node&lt;K,V&gt; e; K k;
        //ç¬¬ä¸€ä¸ªnodeçš„hashå€¼å³ä¸ºè¦åŠ å…¥å…ƒç´ çš„hash
        if (p.hash == hash &amp;&amp;
            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))
            e = p;
        //2.2
        else if (p instanceof TreeNode)
            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);
        //2.1
        else {
            //ä¸æ˜¯TreeNode,å³ä¸ºé“¾è¡¨,éå†é“¾è¡¨
            for (int binCount = 0; ; ++binCount) {
            ///é“¾è¡¨çš„å°¾ç«¯ä¹Ÿæ²¡æœ‰æ‰¾åˆ°keyå€¼ç›¸åŒçš„èŠ‚ç‚¹ï¼Œåˆ™ç”Ÿæˆä¸€ä¸ªæ–°çš„Node,
            //å¹¶ä¸”åˆ¤æ–­é“¾è¡¨çš„èŠ‚ç‚¹ä¸ªæ•°æ˜¯ä¸æ˜¯åˆ°è¾¾è½¬æ¢æˆçº¢é»‘æ ‘çš„ä¸Šç•Œè¾¾åˆ°ï¼Œåˆ™è½¬æ¢æˆçº¢é»‘æ ‘ã€‚
                if ((e = p.next) == null) {
                     // åˆ›å»ºé“¾è¡¨èŠ‚ç‚¹å¹¶æ’å…¥å°¾éƒ¨
                    p.next = newNode(hash, key, value, null);
                    ////è¶…è¿‡äº†é“¾è¡¨çš„è®¾ç½®é•¿åº¦8å°±è½¬æ¢æˆçº¢é»‘æ ‘
                    if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st
                        treeifyBin(tab, hash);
                    break;
                }
                if (e.hash == hash &amp;&amp;
                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))
                    break;
                p = e;
            }
        }
        //å¦‚æœeä¸ä¸ºç©ºå°±æ›¿æ¢æ—§çš„oldValueå€¼
        if (e != null) { // existing mapping for key
            V oldValue = e.value;
            if (!onlyIfAbsent || oldValue == null)
                e.value = value;
            afterNodeAccess(e);
            return oldValue;
        }
    }
    ++modCount;
    if (++size &gt; threshold)
        resize();
    afterNodeInsertion(evict);
    return null;
}</code></pre><p>æ³¨ï¼šhash å†²çªå‘ç”Ÿçš„å‡ ç§æƒ…å†µï¼š<br>1.ä¸¤èŠ‚ç‚¹key å€¼ç›¸åŒï¼ˆhashå€¼ä¸€å®šç›¸åŒï¼‰ï¼Œå¯¼è‡´å†²çªï¼›<br>2.ä¸¤èŠ‚ç‚¹key å€¼ä¸åŒï¼Œç”±äº hash å‡½æ•°çš„å±€é™æ€§å¯¼è‡´hash å€¼ç›¸åŒï¼Œå†²çªï¼›<br>3.ä¸¤èŠ‚ç‚¹key å€¼ä¸åŒï¼Œhash å€¼ä¸åŒï¼Œä½† hash å€¼å¯¹æ•°ç»„é•¿åº¦å–æ¨¡åç›¸åŒï¼Œå†²çªï¼›</p>
<p>ç›¸æ¯”putæ–¹æ³•ï¼Œgetæ–¹æ³•å°±æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸è¯´äº†ã€‚</p>
<h2 id="1-7å’Œ1-8çš„HashMapçš„ä¸åŒç‚¹"><a href="#1-7å’Œ1-8çš„HashMapçš„ä¸åŒç‚¹" class="headerlink" title="1.7å’Œ1.8çš„HashMapçš„ä¸åŒç‚¹"></a>1.7å’Œ1.8çš„HashMapçš„ä¸åŒç‚¹</h2><p>ï¼ˆ1ï¼‰JDK1.7ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œè€ŒJDK1.8åŠä¹‹åä½¿ç”¨çš„éƒ½æ˜¯å°¾æ’æ³•ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿå› ä¸ºJDK1.7æ˜¯ç”¨å•é“¾è¡¨è¿›è¡Œçš„çºµå‘å»¶ä¼¸ï¼Œå½“é‡‡ç”¨å¤´æ’æ³•å°±æ˜¯èƒ½å¤Ÿæé«˜æ’å…¥çš„æ•ˆç‡ï¼Œä½†æ˜¯ä¹Ÿä¼šå®¹æ˜“å‡ºç°é€†åºä¸”ç¯å½¢é“¾è¡¨æ­»å¾ªç¯é—®é¢˜ã€‚ä½†æ˜¯åœ¨JDK1.8ä¹‹åæ˜¯å› ä¸ºåŠ å…¥äº†çº¢é»‘æ ‘ä½¿ç”¨å°¾æ’æ³•ï¼Œèƒ½å¤Ÿé¿å…å‡ºç°é€†åºä¸”é“¾è¡¨æ­»å¾ªç¯çš„é—®é¢˜ã€‚</p>
<p>ï¼ˆ2ï¼‰æ‰©å®¹åæ•°æ®å­˜å‚¨ä½ç½®çš„è®¡ç®—æ–¹å¼ä¹Ÿä¸ä¸€æ ·ï¼š</p>
<p>åœ¨JDK1.7çš„æ—¶å€™æ˜¯ç›´æ¥ç”¨hashå€¼å’Œéœ€è¦æ‰©å®¹çš„äºŒè¿›åˆ¶æ•°è¿›è¡Œ&amp;ï¼ˆè¿™é‡Œå°±æ˜¯ä¸ºä»€ä¹ˆæ‰©å®¹çš„æ—¶å€™ä¸ºå•¥ä¸€å®šå¿…é¡»æ˜¯2çš„å¤šå°‘æ¬¡å¹‚çš„åŸå› æ‰€åœ¨ï¼Œå› ä¸ºå¦‚æœåªæœ‰2çš„næ¬¡å¹‚çš„æƒ…å†µæ—¶æœ€åä¸€ä½äºŒè¿›åˆ¶æ•°æ‰ä¸€å®šæ˜¯1ï¼Œè¿™æ ·èƒ½æœ€å¤§ç¨‹åº¦å‡å°‘hashç¢°æ’ï¼‰ï¼ˆhashå€¼ &amp; length-1ï¼‰ ã€‚<br>è€Œåœ¨JDK1.8çš„æ—¶å€™ç›´æ¥ç”¨äº†JDK1.7çš„æ—¶å€™è®¡ç®—çš„è§„å¾‹ï¼Œä¹Ÿå°±æ˜¯æ‰©å®¹å‰çš„åŸå§‹ä½ç½®+æ‰©å®¹çš„å¤§å°å€¼=JDK1.8çš„è®¡ç®—æ–¹å¼ï¼Œè€Œä¸å†æ˜¯JDK1.7çš„é‚£ç§å¼‚æˆ–çš„æ–¹æ³•ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼å°±ç›¸å½“äºåªéœ€è¦åˆ¤æ–­Hashå€¼çš„æ–°å¢å‚ä¸è¿ç®—çš„ä½æ˜¯0è¿˜æ˜¯1å°±ç›´æ¥è¿…é€Ÿè®¡ç®—å‡ºäº†æ‰©å®¹åçš„å‚¨å­˜æ–¹å¼ã€‚<br>ï¼ˆ3ï¼‰JDK1.7çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯æ•°ç»„+ å•é“¾è¡¨çš„æ•°æ®ç»“æ„ã€‚ä½†æ˜¯åœ¨JDK1.8åŠä¹‹åæ—¶ï¼Œä½¿ç”¨çš„æ˜¯æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘çš„æ•°æ®ç»“æ„ï¼ˆå½“é“¾è¡¨çš„æ·±åº¦è¾¾åˆ°8çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤é˜ˆå€¼ï¼Œå°±ä¼šè‡ªåŠ¨æ‰©å®¹æŠŠé“¾è¡¨è½¬æˆçº¢é»‘æ ‘çš„æ•°æ®ç»“æ„æ¥æŠŠæ—¶é—´å¤æ‚åº¦ä»Oï¼ˆNï¼‰å˜æˆOï¼ˆlogNï¼‰æé«˜äº†æ•ˆç‡ï¼‰ã€‚</p>
<p>HashMapä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Ÿ<br>HashMap åœ¨å¹¶å‘æ—¶å¯èƒ½å‡ºç°çš„é—®é¢˜ä¸»è¦æ˜¯ä¸¤æ–¹é¢ï¼š</p>
<p>putçš„æ—¶å€™å¯¼è‡´çš„å¤šçº¿ç¨‹æ•°æ®ä¸ä¸€è‡´<br>æ¯”å¦‚æœ‰ä¸¤ä¸ªçº¿ç¨‹Aå’ŒBï¼Œé¦–å…ˆAå¸Œæœ›æ’å…¥ä¸€ä¸ªkey-valueå¯¹åˆ°HashMapä¸­ï¼Œé¦–å…ˆè®¡ç®—è®°å½•æ‰€è¦è½åˆ°çš„ hashæ¡¶çš„ç´¢å¼•åæ ‡ï¼Œç„¶åè·å–åˆ°è¯¥æ¡¶é‡Œé¢çš„é“¾è¡¨å¤´ç»“ç‚¹ï¼Œæ­¤æ—¶çº¿ç¨‹Açš„æ—¶é—´ç‰‡ç”¨å®Œäº†ï¼Œè€Œæ­¤æ—¶çº¿ç¨‹Bè¢«è°ƒåº¦å¾—ä»¥æ‰§è¡Œï¼Œå’Œçº¿ç¨‹Aä¸€æ ·æ‰§è¡Œï¼Œåªä¸è¿‡çº¿ç¨‹BæˆåŠŸå°†è®°å½•æ’åˆ°äº†æ¡¶é‡Œé¢ï¼Œå‡è®¾çº¿ç¨‹Aæ’å…¥çš„è®°å½•è®¡ç®—å‡ºæ¥çš„ hashæ¡¶ç´¢å¼•å’Œçº¿ç¨‹Bè¦æ’å…¥çš„è®°å½•è®¡ç®—å‡ºæ¥çš„ hashæ¡¶ç´¢å¼•æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå½“çº¿ç¨‹BæˆåŠŸæ’å…¥ä¹‹åï¼Œçº¿ç¨‹Aå†æ¬¡è¢«è°ƒåº¦è¿è¡Œæ—¶ï¼Œå®ƒä¾ç„¶æŒæœ‰è¿‡æœŸçš„é“¾è¡¨å¤´ä½†æ˜¯å®ƒå¯¹æ­¤ä¸€æ— æ‰€çŸ¥ï¼Œä»¥è‡³äºå®ƒè®¤ä¸ºå®ƒåº”è¯¥è¿™æ ·åšï¼Œå¦‚æ­¤ä¸€æ¥å°±è¦†ç›–äº†çº¿ç¨‹Bæ’å…¥çš„è®°å½•ï¼Œè¿™æ ·çº¿ç¨‹Bæ’å…¥çš„è®°å½•å°±å‡­ç©ºæ¶ˆå¤±äº†ï¼Œé€ æˆäº†æ•°æ®ä¸ä¸€è‡´çš„è¡Œä¸ºã€‚<br>resizeè€Œå¼•èµ·æ­»å¾ªç¯<br>è¿™ç§æƒ…å†µå‘ç”Ÿåœ¨HashMapè‡ªåŠ¨æ‰©å®¹æ—¶ï¼Œå½“2ä¸ªçº¿ç¨‹åŒæ—¶æ£€æµ‹åˆ°å…ƒç´ ä¸ªæ•°è¶…è¿‡ æ•°ç»„å¤§å° Ã— è´Ÿè½½å› å­ã€‚æ­¤æ—¶2ä¸ªçº¿ç¨‹ä¼šåœ¨put()æ–¹æ³•ä¸­è°ƒç”¨äº†resize()ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹ä¸€ä¸ªé“¾è¡¨ç»“æ„ä¼šäº§ç”Ÿä¸€ä¸ªå¾ªç¯é“¾è¡¨ï¼ˆJDK1.7ä¸­ï¼Œä¼šå‡ºç°resizeå‰åå…ƒç´ é¡ºåºå€’ç½®çš„æƒ…å†µï¼‰ã€‚æ¥ä¸‹æ¥å†æƒ³é€šè¿‡get()è·å–æŸä¸€ä¸ªå…ƒç´ ï¼Œå°±ä¼šå‡ºç°æ­»å¾ªç¯ã€‚</p>
<h2 id="HashMapå’ŒHashTableçš„åŒºåˆ«"><a href="#HashMapå’ŒHashTableçš„åŒºåˆ«" class="headerlink" title="HashMapå’ŒHashTableçš„åŒºåˆ«"></a>HashMapå’ŒHashTableçš„åŒºåˆ«</h2><p>HashMapå’ŒHashtableéƒ½å®ç°äº†Mapæ¥å£ï¼Œä½†å†³å®šç”¨å“ªä¸€ä¸ªä¹‹å‰å…ˆè¦å¼„æ¸…æ¥šå®ƒä»¬ä¹‹é—´çš„åˆ†åˆ«ã€‚ä¸»è¦çš„åŒºåˆ«æœ‰ï¼šçº¿ç¨‹å®‰å…¨æ€§ï¼ŒåŒæ­¥(synchronization)ï¼Œä»¥åŠé€Ÿåº¦ã€‚</p>
<p>HashMapå‡ ä¹å¯ä»¥ç­‰ä»·äºHashtableï¼Œé™¤äº†HashMapæ˜¯ésynchronizedçš„ï¼Œå¹¶å¯ä»¥æ¥å—null(HashMapå¯ä»¥æ¥å—ä¸ºnullçš„é”®å€¼(key)å’Œå€¼(value)ï¼Œè€ŒHashtableåˆ™ä¸è¡Œ)ã€‚<br>HashMapæ˜¯ésynchronizedï¼Œè€ŒHashtableæ˜¯synchronizedï¼Œè¿™æ„å‘³ç€Hashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«ä¸€ä¸ªHashtableï¼›è€Œå¦‚æœæ²¡æœ‰æ­£ç¡®çš„åŒæ­¥çš„è¯ï¼Œå¤šä¸ªçº¿ç¨‹æ˜¯ä¸èƒ½å…±äº«HashMapçš„ã€‚Java 5æä¾›äº†ConcurrentHashMapï¼Œå®ƒæ˜¯HashTableçš„æ›¿ä»£ï¼Œæ¯”HashTableçš„æ‰©å±•æ€§æ›´å¥½ã€‚<br>å¦ä¸€ä¸ªåŒºåˆ«æ˜¯HashMapçš„è¿­ä»£å™¨(Iterator)æ˜¯fail-fastè¿­ä»£å™¨ï¼Œè€ŒHashtableçš„enumeratorè¿­ä»£å™¨ä¸æ˜¯fail-fastçš„ã€‚æ‰€ä»¥å½“æœ‰å…¶å®ƒçº¿ç¨‹æ”¹å˜äº†HashMapçš„ç»“æ„ï¼ˆå¢åŠ æˆ–è€…ç§»é™¤å…ƒç´ ï¼‰ï¼Œå°†ä¼šæŠ›å‡ºConcurrentModificationExceptionï¼Œä½†è¿­ä»£å™¨æœ¬èº«çš„remove()æ–¹æ³•ç§»é™¤å…ƒç´ åˆ™ä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚ä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¸€å®šå‘ç”Ÿçš„è¡Œä¸ºï¼Œè¦çœ‹JVMã€‚è¿™æ¡åŒæ ·ä¹Ÿæ˜¯Enumerationå’ŒIteratorçš„åŒºåˆ«ã€‚<br>ç”±äºHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹Ÿæ˜¯synchronizedï¼Œæ‰€ä»¥åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹å®ƒæ¯”HashMapè¦æ…¢ã€‚å¦‚æœä½ ä¸éœ€è¦åŒæ­¥ï¼Œåªéœ€è¦å•ä¸€çº¿ç¨‹ï¼Œé‚£ä¹ˆä½¿ç”¨HashMapæ€§èƒ½è¦å¥½è¿‡Hashtableã€‚<br>HashMapä¸èƒ½ä¿è¯éšç€æ—¶é—´çš„æ¨ç§»Mapä¸­çš„å…ƒç´ æ¬¡åºæ˜¯ä¸å˜çš„ã€‚<br>éœ€è¦æ³¨æ„çš„é‡è¦æœ¯è¯­ï¼š</p>
<p>sychronizedæ„å‘³ç€åœ¨ä¸€æ¬¡ä»…æœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿæ›´æ”¹Hashtableã€‚å°±æ˜¯è¯´ä»»ä½•çº¿ç¨‹è¦æ›´æ–°Hashtableæ—¶è¦é¦–å…ˆè·å¾—åŒæ­¥é”ï¼Œå…¶å®ƒçº¿ç¨‹è¦ç­‰åˆ°åŒæ­¥é”è¢«é‡Šæ”¾ä¹‹åæ‰èƒ½å†æ¬¡è·å¾—åŒæ­¥é”æ›´æ–°Hashtableã€‚</p>
<p>Fail-safeå’Œiteratorè¿­ä»£å™¨ç›¸å…³ã€‚å¦‚æœæŸä¸ªé›†åˆå¯¹è±¡åˆ›å»ºäº†Iteratoræˆ–è€…ListIteratorï¼Œç„¶åå…¶å®ƒçš„çº¿ç¨‹è¯•å›¾â€œç»“æ„ä¸Šâ€æ›´æ”¹é›†åˆå¯¹è±¡ï¼Œå°†ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚ä½†å…¶å®ƒçº¿ç¨‹å¯ä»¥é€šè¿‡set()æ–¹æ³•æ›´æ”¹é›†åˆå¯¹è±¡æ˜¯å…è®¸çš„ï¼Œå› ä¸ºè¿™å¹¶æ²¡æœ‰ä»â€œç»“æ„ä¸Šâ€æ›´æ”¹é›†åˆã€‚ä½†æ˜¯å‡å¦‚å·²ç»ä»ç»“æ„ä¸Šè¿›è¡Œäº†æ›´æ”¹ï¼Œå†è°ƒç”¨set()æ–¹æ³•ï¼Œå°†ä¼šæŠ›å‡ºIllegalArgumentExceptionå¼‚å¸¸ã€‚</p>
<p>ç»“æ„ä¸Šçš„æ›´æ”¹æŒ‡çš„æ˜¯åˆ é™¤æˆ–è€…æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ ·ä¼šå½±å“åˆ°mapçš„ç»“æ„ã€‚</p>
<p>HashMapå¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥è¿›è¡ŒåŒæ­¥ï¼š<br>Map m = Collections.synchronizeMap(hashMap);</p>
<p>å‚è€ƒèµ„æ–™<br><a href="https://tech.meituan.com/java_hashmap.html">https://tech.meituan.com/java_hashmap.html</a></p>
</div><div class="article-tags size-small is-uppercase mb-4"><i class="fas fa-tags has-text-grey"></i>Â <a class="link-muted mr-2" rel="tag" href="/tags/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a><p class="text-right font1_1"><time datetime="2020-05-14T01:18:13.273Z"><strong><em>Â æœ¬æ–‡æœ€åä¿®æ”¹äº:Â 2020-05-14.</em></strong></time></p></div><ul class="post-copyright"><li><strong>æœ¬æ–‡æ ‡é¢˜ï¼š</strong><a href="https://qiyankai.github.io/posts/4a4b42aa/">HashMapçŸ¥è¯†æ¢³ç†</a></li><li><strong>æœ¬æ–‡ä½œè€…ï¼š</strong><a href="https://qiyankai.github.io">è€K</a></li><li><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://qiyankai.github.io/posts/4a4b42aa/">https://qiyankai.github.io/posts/4a4b42aa/</a></li><li><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7">#Â æ¨èæ–‡ç« </span><br><span>Â Â 1.<a class="is-size-6" href="/posts/1a54ada2/" target="_blank">åšå®¢æºç åˆ†äº«</a><br></span><span>Â Â 2.<a class="is-size-6" href="/posts/47c45f64/" target="_blank">åšå®¢ä¸­gitalkæœ€æ–°è¯„è®ºçš„è·å–</a><br></span><span>Â Â 3.<a class="is-size-6" href="/posts/a49f841a/" target="_blank">ä¸­åäººæ°‘å…±å’Œå›½åˆ‘äº‹è¯‰è®¼æ³•</a><br></span><span>Â Â 4.<a class="is-size-6" href="/posts/4a17b156/" target="_blank">Hello World</a><br></span><span>Â Â 5.<a class="is-size-6" href="/posts/e7fe3cc/" target="_blank">github Issue ä½œä¸ºåšå®¢å¾®å‹æ•°æ®åº“çš„åº”ç”¨</a><br></span></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿæ‰“èµä¸€ä¸‹ä½œè€…å§</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>æ”¯ä»˜å®</span><span class="qrcode"><img src="/" alt="æ”¯ä»˜å®"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>å¾®ä¿¡</span><span class="qrcode"><img src="/" alt="å¾®ä¿¡"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/b22caa49/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">synchronizedçŸ¥è¯†æ¢³ç†</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/89986481/"><span class="level-item">ä¸è’œå­ç»Ÿè®¡å¸¸è§é—®é¢˜</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">è¯„è®º</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.0/dist/gitalk.css"><script src="/js/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: 'ecaaf3b520d986661382eb760ac676f5',
            repo: 'qiyankai.github.io',
            owner: 'qiyankai',
            clientID: '1520b1a1d9db8b3e4535',
            clientSecret: '4994a7a2ff4e6421db6554f762cf75750c0ee98e',
            admin: ["qiyankai"],
            createIssueManually: true,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget toc-scroll" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">ç›®å½•</h3><ul class="menu-list"><li><a class="is-flex" id="toc-item-ä¸€æ–‡è¯»æ‡‚HashMap" href="#ä¸€æ–‡è¯»æ‡‚HashMap"><span>ä¸€æ–‡è¯»æ‡‚HashMap</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-HashMapæºç åˆ†æ" href="#HashMapæºç åˆ†æ"><span>HashMapæºç åˆ†æ</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-1-4-HashMap-Map-lt-extends-K-extends-V-gt-m" href="#1-4-HashMap-Map-lt-extends-K-extends-V-gt-m"><span>1.4 HashMap(Map&amp;lt;? extends K, ? extends V&amp;gt; m)</span></a></li><li><a class="is-flex" id="toc-item-HashMapçš„æ•°æ®ç»“æ„" href="#HashMapçš„æ•°æ®ç»“æ„"><span>HashMapçš„æ•°æ®ç»“æ„</span></a></li></ul></li><li><a class="is-flex" id="toc-item-1-7å’Œ1-8çš„HashMapçš„ä¸åŒç‚¹" href="#1-7å’Œ1-8çš„HashMapçš„ä¸åŒç‚¹"><span>1.7å’Œ1.8çš„HashMapçš„ä¸åŒç‚¹</span></a></li><li><a class="is-flex" id="toc-item-HashMapå’ŒHashTableçš„åŒºåˆ«" href="#HashMapå’ŒHashTableçš„åŒºåˆ«"><span>HashMapå’ŒHashTableçš„åŒºåˆ«</span></a></li></ul></li></ul></div></div><script type="text/javascript" async>
        $(document).ready(function () { //å‚è€ƒè‡ª https://github.com/ppoffice/hexo-theme-icarus/pull/616/files
            var observerTopMargin;
            var scrollObserver;
            var headerElems = $(".headerlink");
            var activeTocItem;
        
            function initIntersectionObserver(docHeight) {
                observerTopMargin = docHeight;
                scrollObserver = new IntersectionObserver(scrollCallBack,
                    {
                        root: null,  // viewpoint
                        rootMargin: docHeight + "px 0px -80% 0px"  // cover top 30% of viewport to the top of document
                    })
            }
        
            function scrollCallBack(entries, observer) {
                if ($(window).scrollTop() > observerTopMargin * 0.7) { 
                    // User somehow scroll to 70% of observerTopMargin (which is inited as 200% document height)
                    // Observer top margin need to extend to cover all the space to the top of the document
                    initIntersectionObserver(observerTopMargin * 2)
                    observer.disconnect();
                    return;
                }
                let toActive;
                if (entries[0].intersectionRatio == 1) {  // enter viewed area
                    let entry = entries.reduce((u, v) => (u.target.toc_id > v.target.toc_id ? u : v));  // get the lowest item
                    toActive = $("#toc-item-" + $(entry.target).attr("href").substr(1));
                } else {
                    let entry = entries.reduce((u, v) => (u.target.toc_id < v.target.toc_id ? u : v));  // get the highest item
                    let idx = Math.max(entry.target.toc_id - 1, 0);
                    toActive = $("#toc-item-" + $(headerElems[idx]).attr("href").substr(1));
                }
                if (activeTocItem) activeTocItem.removeClass("is-current");
                activeTocItem = toActive
                activeTocItem.addClass("is-current");
            }
        
            initIntersectionObserver($(document).height() * 2);
            headerElems.each(function (index, obj) {
                obj.toc_id = index;
                scrollObserver.observe(obj);
            })
        });</script></div><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/yazi.png" alt="è€K"></figure><p class="title is-size-4 is-block line-height-inherit">è€K</p><p class="is-size-6 is-block">ğŸ•º ğŸ•º ğŸ•ºğŸ»âš°ï¸ğŸ•º ğŸ•º ğŸ•ºğŸ»  ğŸ•º</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>ä¸­å›½</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">19</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">7</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/qiyankai" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/qiyankai"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Weibo" href="/"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:1694577129@qq.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Next" href="https://qiyankai.github.io"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div><div><hr><p id="hitokoto">:D ä¸€è¨€å¥å­è·å–ä¸­...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"æ¥æºã€Š"+data.from+"ã€‹</p><p>æä¾›è€…-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">æœ€æ–°è¯„è®º</h3><span class="body_hot_comment">åŠ è½½ä¸­ï¼Œæœ€æ–°è¯„è®ºæœ‰1åˆ†é’Ÿå»¶è¿Ÿ...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><a class="media-left" href="/posts/4a17b156/"><p class="image is-64x64"><img class="thumbnail" src="https://qiyankai.github.io/img/hello.jpg" alt="Hello World"></p></a><div class="media-content size-small"><p><time dateTime="2020-04-14T13:18:38.000Z">2020-04-14</time></p><p class="title is-6"><a class="link-muted" href="/posts/4a17b156/">Hello World</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-11-28T14:02:05.000Z">2019-11-28</time></p><p class="title is-6"><a class="link-muted" href="/posts/b22caa49/">synchronizedçŸ¥è¯†æ¢³ç†</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey">Â </i><a class="link-muted" href="/categories/Java/">Java</a> / <a class="link-muted" href="/categories/Java/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/">çº¿ç¨‹å®‰å…¨</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-10-10T14:02:05.000Z">2019-10-10</time></p><p class="title is-6"><a class="link-muted" href="/posts/4a4b42aa/">HashMapçŸ¥è¯†æ¢³ç†</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey">Â </i><a class="link-muted" href="/categories/Java/">Java</a> / <a class="link-muted" href="/categories/Java/HashMap/">HashMap</a></p></div></article><article class="media"><a class="media-left" href="/posts/89986481/"><p class="image is-64x64"><img class="thumbnail" src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191221090606.png" alt="ä¸è’œå­ç»Ÿè®¡å¸¸è§é—®é¢˜"></p></a><div class="media-content size-small"><p><time dateTime="2018-12-21T00:46:08.000Z">2018-12-21</time></p><p class="title is-6"><a class="link-muted" href="/posts/89986481/">ä¸è’œå­ç»Ÿè®¡å¸¸è§é—®é¢˜</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey">Â </i><a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/">å·¥å…·æ•™ç¨‹</a> / <a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E5%8D%9A%E5%AE%A2%E7%BB%9F%E8%AE%A1%E6%8F%92%E4%BB%B6/">åšå®¢ç»Ÿè®¡æ’ä»¶</a></p></div></article><article class="media"><a class="media-left" href="/posts/e7fe3cc/"><p class="image is-64x64"><img class="thumbnail" src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191128220618.png" alt="github Issue ä½œä¸ºåšå®¢å¾®å‹æ•°æ®åº“çš„åº”ç”¨"></p></a><div class="media-content size-small"><p><time dateTime="2018-11-28T14:02:05.000Z">2018-11-28</time></p><p class="title is-6"><a class="link-muted" href="/posts/e7fe3cc/">github Issue ä½œä¸ºåšå®¢å¾®å‹æ•°æ®åº“çš„åº”ç”¨</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey">Â </i><a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/">å·¥å…·æ•™ç¨‹</a> / <a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/">ä¸»é¢˜å·¥å…·</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Java/HashMap/"><span class="level-start"><span class="level-item">HashMap</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Java/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/"><span class="level-start"><span class="level-item">çº¿ç¨‹å®‰å…¨</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/private/"><span class="level-start"><span class="level-item">private</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"><span class="level-start"><span class="level-item">å·¥å…·æ•™ç¨‹</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">ä¸»é¢˜å·¥å…·</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E5%8D%9A%E5%AE%A2%E7%BB%9F%E8%AE%A1%E6%8F%92%E4%BB%B6/"><span class="level-start"><span class="level-item">åšå®¢ç»Ÿè®¡æ’ä»¶</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%B3%95%E5%BE%8B/"><span class="level-start"><span class="level-item">æ³•å¾‹</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">å½’æ¡£</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">å››æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">ä¸€æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">åä¸€æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">åæœˆ 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">åäºŒæœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">æŸ¥çœ‹å…¨éƒ¨&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/%E6%B3%95%E5%BE%8B/"><span class="tag">æ³•å¾‹</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"><span class="tag">å·¥å…·æ•™ç¨‹</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo%E4%B8%BB%E9%A2%98/"><span class="tag">hexoä¸»é¢˜</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/icarus%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/"><span class="tag">icarusä¸»é¢˜é…ç½®</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8A%80%E6%9C%AF/"><span class="tag">æŠ€æœ¯</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8A%A0%E5%AF%86%E6%96%87%E7%AB%A0/"><span class="tag">åŠ å¯†æ–‡ç« </span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%AE%A2%E7%BB%9F%E8%AE%A1%E6%8F%92%E4%BB%B6/"><span class="tag">åšå®¢ç»Ÿè®¡æ’ä»¶</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">è®¢é˜…æ›´æ–°</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=removeifFeedsId&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="removeifFeedsId" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="è®¢é˜…"></div></div><p class="help">è¾“å…¥é‚®ç®±å¼€å§‹è®¢é˜…ï¼Œæ›´åšåé‚®ä»¶é€šçŸ¥ï¼</p></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/yazi.png" alt="è€Kçš„åšå®¢" height="28"></a><p class="size-small"><span>&copy; 2020 è€K</span>Â Â Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>,Modify by <a href="https://github.com/removeif" target="_blank">removeif</a>Â <br>Â© ç‰ˆæƒè¯´æ˜ï¼š[æœ¬ç½‘ç«™æ‰€æœ‰å†…å®¹å‡æ”¶é›†äºäº’è”ç½‘æˆ–è‡ªå·±åˆ›ä½œ,<br>Â Â Â Â æ–¹ä¾¿äºç½‘å‹ä¸è‡ªå·±å­¦ä¹ äº¤æµï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·<a href="/message" target="_blank">ç•™è¨€</a>ï¼Œç«‹å³å¤„ç†]<br><script type="text/javascript" src="/js/statistics.js"></script><span id="statistic-times">ç½‘ç«™è¿è¡Œæ—¶é—´ç»Ÿè®¡åŠ è½½ä¸­...</span><br><div class="size-small"><span id="busuanzi_container_site_uv">â¤ï¸æ„Ÿè°¢<strong>Â <span id="busuanzi_value_site_uv">99+</span>Â </strong></span>å°ä¼™ä¼´çš„<strong>Â <span id="busuanzi_value_site_pv">99+</span>Â </strong>æ¬¡å…‰ä¸´ï¼Œç‚¹å‡»æŸ¥çœ‹æœ¬åšå®¢ä¸»é¢˜ï¼Œæ„Ÿè°¢removeifå¤§ä½¬å¼€æºğŸ’<a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">ä¸»é¢˜æºç </a>ï¼â¤ï¸</div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/qiyankai"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://qiyankai.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script src="/js/gallery.js" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/comment-issue-data.js" defer></script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: 'æ–‡ç« ',
                    PAGES: 'é¡µé¢',
                    CATEGORIES: 'åˆ†ç±»',
                    TAGS: 'æ ‡ç­¾',
                    UNTITLED: '(æ— æ ‡é¢˜)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script></body></html>